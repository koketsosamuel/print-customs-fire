<div class="container">
  <h1>{{edit ? 'Edit' : 'Add'}} Printing Method</h1>

  <form (submit)='submit()' autocomplete='off'>
    <div class="row">
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Name</mat-label>
          <input name='pm_name' matInput placeholder="Ex. Screen Printing" [(ngModel)]="printingMethod.name" />
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Short Name</mat-label>
          <input name='pm_name' matInput placeholder="Ex. SP" [(ngModel)]="printingMethod.shortName" />
        </mat-form-field>
      </div>
      <div class="col-md-12">
        <mat-form-field class="w-100">
          <mat-label>Description</mat-label>
          <textarea name='pm_desc' matInput [(ngModel)]="printingMethod.description"></textarea>
        </mat-form-field>
      </div>

      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Max Number of Colors</mat-label>
          <input name='pm_max_c' type='number' matInput placeholder="Ex. [numberOfColors] * (perColorCost) * [quantity]"
            [(ngModel)]="printingMethod.maxNumberOfColors" />
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Min Number of Colors</mat-label>
          <input name='pm_min_c' type='number' matInput placeholder="Ex. [numberOfColors] * (perColorCost) * [quantity]"
            [(ngModel)]="printingMethod.minNumberOfColors" />
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Max Quantity</mat-label>
          <input name='pm_max_q' type='number' matInput placeholder="Ex. [numberOfColors] * (perColorCost) * [quantity]"
            [(ngModel)]="printingMethod.maxQuantity" />
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Min Quantity</mat-label>
          <input name='pm_min_q' type='number' matInput placeholder="Ex. [numberOfColors] * (perColorCost) * [quantity]"
            [(ngModel)]="printingMethod.minQuantity" />
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Per Quantity Cost</mat-label>
          <input name='pm_cost_q' type='number' matInput
            placeholder="Ex. [numberOfColors] * (perColorCost) * [quantity]"
            [(ngModel)]="printingMethod.perQuantityCost" />
        </mat-form-field>
      </div>
      <div class="col-md-6">
        <mat-form-field class="w-100">
          <mat-label>Per Color Cost</mat-label>
          <input name='pm_cost_c' type='number' matInput
            placeholder="Ex. [numberOfColors] * (perColorCost) * [quantity]"
            [(ngModel)]="printingMethod.perColorCost" />
        </mat-form-field>
      </div>
      <div class="col-md-12">
        <mat-form-field class="w-100">
          <mat-label>Setup Fee</mat-label>
          <input name='pm_setup_fee' type='number' matInput
            placeholder="Ex. [numberOfColors] * (perColorCost) * [quantity]" [(ngModel)]="printingMethod.setupFee" />
        </mat-form-field>
      </div>
    </div>

    <div class="mb-4">
      <div>
        <mat-checkbox name="status" [(ngModel)]="printingMethod.active">Is active</mat-checkbox>
      </div>
      <div>
        <mat-checkbox name="thinLines" [(ngModel)]="printingMethod.thinLines">Allow thin lines</mat-checkbox>
      </div>
    </div>

    <div *ngIf="edit && printingMethod.images?.[0]" class='bg-grey-300 p-4 mb-4 current-image'>
      <h3>Current image</h3>
      <img [src]="printingMethod.images[0].link" alt="Current">
    </div>


    <div class='mb-3'>
      Insert image new <input (change)="selectImage($event)" type="file" name="pm_image" id="">
    </div>
    <button mat-flat-button color="primary">{{edit ? 'Update' : 'Create'}}</button>
  </form>
</div>
