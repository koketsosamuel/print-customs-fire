<div class="container mt-4">
  <div class="row">
    <div class="col-lg-8">
      <app-fancy-card>
        <div class="row" *ngIf="product">
        <div class="col-md-6">
          <app-single-product-view-images
            [images]="product.images || []"
          ></app-single-product-view-images>
        </div>
        <div class="col-md-6">
          <h1 class="fg-grey-900">
            <b>{{ product.name }}</b>
          </h1>

          <mat-card *ngIf="product.variations.options.length" class='mb-4'>
            <mat-card-content>
              <h4 class="m-0 p-0 fg-teal mb-3">Select color:</h4>
              <div class="colors-block d-flex">
                <div
                  class="color-circle cursor"
                  [ngClass]="{'selected-color': selectedColor && selectedColor == c.optionColor}"
                  *ngFor="let c of product.variations.options"
                  (click)='selectColor(c.optionColor)'
                  [matTooltip]="c.name"
                  [ngStyle]="{ backgroundColor: c.optionColor }"
                ></div>
              </div>
            </mat-card-content>
          </mat-card>

          <div class="bg-grey-100 mb-4">
            <quill-view
              [content]="product.description"
              name="description"
            ></quill-view>
          </div>

          <mat-form-field class='w-100' *ngIf="!hasSubVariations">
            <mat-label>Quantity</mat-label>
            <input matInput type="number" name="product_quantity" [(ngModel)]='quantity'>
          </mat-form-field>

          <div class="d-flex align-items-center gap-20">
            <button mat-flat-button color="primary" (click)='customize()'>Customize</button>
            <button mat-flat-button color="accent">Add to cart</button>
            <h2 class="d-inline my-0 fg-teal">
              <b>R {{ product.price }}</b>
            </h2>
          </div>

          <app-printing-methods-chips
            [printingMethodIds]="product.printingMethodsSearchableArr"
          ></app-printing-methods-chips>
        </div>
      </div>
      </app-fancy-card>
    </div>
  </div>

  <section class="mt-4">
    <app-horizontal-cards
      heading="You may also be interested in:"
      [products]="relatedProducts"
      [large]="true"
    ></app-horizontal-cards>
  </section>
</div>
